{"ast":null,"code":"import axios from \"axios\";\nexport const registerUser = user => async dispatch => {\n  dispatch({\n    type: \"USER_REGISTER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/reqister\", user);\n    dispatch({\n      type: \"USER_REGISTER_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/login\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_REGISTER_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const loginUser = user => async (dispatch, getState) => {\n  dispatch({\n    type: \"USER_LOGIN_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/login\", user);\n    dispatch({\n      type: \"USER_LOGIN_SUCCESS\",\n      payload: response.data\n    });\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_LOGIN_FAILED\",\n      payload: error.response.data\n    });\n  }\n}; //logout\n\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"currentUser\");\n  window.location.href = \"/login\";\n}; //create post\n\nexport const createPost = post => async dispatch => {\n  dispatch({\n    type: \"CREATE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/create\", post);\n    dispatch({\n      type: \"CREATE_POST_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"CREATE_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get posts\n//allposts\n\nexport const getposts = cat => async dispatch => {\n  dispatch({\n    type: \"GET_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(`/api/post/allposts/${cat}`);\n    dispatch({\n      type: \"GET_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get a post\n//:id\n\nexport const singlePost = id => async dispatch => {\n  dispatch({\n    type: \"SINGLE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(`/api/post/${id}`);\n    dispatch({\n      type: \"SINGLE_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"SINGLE_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //other post you may like\n\nexport const otherPosts = postInfo => async dispatch => {\n  dispatch({\n    type: \"OTHER_POSTS_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/otherposts\", postInfo);\n    dispatch({\n      type: \"OTHER_POSTS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"OTHER_POSTS_FAILED\"\n    });\n  }\n};\nexport const editPost = val => dispatch => {\n  dispatch({\n    type: \"EDIT_POST\",\n    payload: val\n  });\n};\nexport const deletePost = postId => async dispatch => {\n  console.log(postId);\n  dispatch({\n    type: \"DELETE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/deletepost\", {\n      postId\n    });\n    dispatch({\n      type: \"DELETE_POST_SUCCESS\",\n      payload: response.data\n    }); // window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"DELETE_POST_FAILED\",\n      payload: error.response.data\n    });\n  }\n};","map":{"version":3,"names":["axios","registerUser","user","dispatch","type","response","post","payload","data","window","location","href","error","loginUser","getState","localStorage","setItem","JSON","stringify","logoutUser","removeItem","createPost","getposts","cat","get","singlePost","id","otherPosts","postInfo","editPost","val","deletePost","postId","console","log"],"sources":["D:/React/blogify/client/src/actions/index.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const registerUser = (user) => async (dispatch) => {\r\n  dispatch({ type: \"USER_REGISTER_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/reqister\", user);\r\n    dispatch({ type: \"USER_REGISTER_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/login\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_REGISTER_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\nexport const loginUser = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/login\", user);\r\n    dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: response.data });\r\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_LOGIN_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n\r\n//logout\r\nexport const logoutUser = () => (dispatch) => {\r\n  localStorage.removeItem(\"currentUser\");\r\n  window.location.href = \"/login\";\r\n};\r\n\r\n//create post\r\nexport const createPost = (post) => async (dispatch) => {\r\n  dispatch({ type: \"CREATE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/create\", post);\r\n    dispatch({ type: \"CREATE_POST_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"CREATE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get posts\r\n//allposts\r\nexport const getposts = (cat) => async (dispatch) => {\r\n  dispatch({ type: \"GET_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(`/api/post/allposts/${cat}`);\r\n    dispatch({ type: \"GET_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"GET_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get a post\r\n//:id\r\nexport const singlePost = (id) => async (dispatch) => {\r\n  dispatch({ type: \"SINGLE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(`/api/post/${id}`);\r\n    dispatch({ type: \"SINGLE_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"SINGLE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//other post you may like\r\nexport const otherPosts = (postInfo) => async (dispatch) => {\r\n  dispatch({ type: \"OTHER_POSTS_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/otherposts\", postInfo);\r\n    dispatch({ type: \"OTHER_POSTS_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"OTHER_POSTS_FAILED\" });\r\n  }\r\n};\r\n\r\nexport const editPost = (val) => (dispatch) => {\r\n  dispatch({ type: \"EDIT_POST\", payload: val });\r\n};\r\n\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n  console.log(postId);\r\n  dispatch({ type: \"DELETE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/deletepost\", { postId });\r\n    dispatch({ type: \"DELETE_POST_SUCCESS\", payload: response.data });\r\n    // window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"DELETE_POST_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}