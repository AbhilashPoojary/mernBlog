{"ast":null,"code":"import axios from \"axios\";\nexport const registerUser = user => async dispatch => {\n  dispatch({\n    type: \"USER_REGISTER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/reqister\", user);\n    console.log(response);\n    dispatch({\n      type: \"USER_REGISTER_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/login\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_REGISTER_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const loginUser = user => async (dispatch, getState) => {\n  dispatch({\n    type: \"USER_LOGIN_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/login\", user);\n    console.log(response);\n    dispatch({\n      type: \"USER_LOGIN_SUCCESS\",\n      payload: response.data\n    });\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_LOGIN_FAILED\",\n      payload: error\n    });\n  }\n}; //create post\n\nexport const createPost = post => async dispatch => {\n  dispatch({\n    type: \"CREATE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/create\", post);\n    console.log(response);\n    dispatch({\n      type: \"CREATE_POST_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"CREATE_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get posts\n//allposts\n\nexport const getposts = () => async dispatch => {\n  dispatch({\n    type: \"GET_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/post/allposts\");\n    console.log(response);\n    dispatch({\n      type: \"GET_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get a post\n//:id\n\nexport const singlePost = () => async dispatch => {\n  dispatch({\n    type: \"SINGLE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/post/:id\");\n    console.log(response);\n    dispatch({\n      type: \"SINGLE_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"SINGLE_POST_FAILED\",\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["axios","registerUser","user","dispatch","type","response","post","console","log","payload","data","window","location","href","error","loginUser","getState","localStorage","setItem","JSON","stringify","createPost","getposts","get","singlePost"],"sources":["D:/React/blogify/client/src/actions/index.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const registerUser = (user) => async (dispatch) => {\r\n  dispatch({ type: \"USER_REGISTER_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/reqister\", user);\r\n    console.log(response);\r\n    dispatch({ type: \"USER_REGISTER_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/login\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_REGISTER_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\nexport const loginUser = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/login\", user);\r\n    console.log(response);\r\n    dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: response.data });\r\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_LOGIN_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//create post\r\nexport const createPost = (post) => async (dispatch) => {\r\n  dispatch({ type: \"CREATE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/create\", post);\r\n    console.log(response);\r\n    dispatch({ type: \"CREATE_POST_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"CREATE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get posts\r\n//allposts\r\nexport const getposts = () => async (dispatch) => {\r\n  dispatch({ type: \"GET_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(\"/api/post/allposts\");\r\n    console.log(response);\r\n    dispatch({ type: \"GET_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"GET_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get a post\r\n//:id\r\nexport const singlePost = () => async (dispatch) => {\r\n  dispatch({ type: \"SINGLE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(\"/api/post/:id\");\r\n    console.log(response);\r\n    dispatch({ type: \"SINGLE_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"SINGLE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}