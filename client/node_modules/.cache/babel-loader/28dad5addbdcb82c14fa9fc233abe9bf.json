{"ast":null,"code":"import axios from \"axios\";\nexport const registerUser = user => async dispatch => {\n  dispatch({\n    type: \"USER_REGISTER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/reqister\", user);\n    dispatch({\n      type: \"USER_REGISTER_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/login\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_REGISTER_FAILED\",\n      payload: error.response.data\n    });\n  }\n};\nexport const loginUser = user => async (dispatch, getState) => {\n  dispatch({\n    type: \"USER_LOGIN_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/auth/login\", user);\n    dispatch({\n      type: \"USER_LOGIN_SUCCESS\",\n      payload: response.data\n    });\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"USER_LOGIN_FAILED\",\n      payload: error.response.data\n    });\n  }\n};\nexport const loginErr = () => dispatch => {\n  dispatch({\n    type: \"REMOVE_ERROR_LOGIN\"\n  });\n};\nexport const signErr = () => dispatch => {\n  dispatch({\n    type: \"REMOVE_ERROR_SIGN\"\n  });\n};\nexport const darkMode = dark => dispatch => {\n  console.log(dark);\n  dispatch({\n    type: \"CHANGE_MODE\",\n    payload: dark\n  });\n};\nexport const updateUser = user => async dispatch => {\n  dispatch({\n    type: \"USER_UPDATE_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/user/updateuser\", user);\n    dispatch({\n      type: \"USER_UPDATE_SUCCESS\",\n      payload: response.data\n    });\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\n  } catch (error) {\n    dispatch({\n      type: \"USER_UPDATE_FAILED\",\n      payload: error.response.data\n    });\n  }\n}; //logout\n\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"currentUser\");\n  window.location.href = \"/login\";\n}; //create post\n\nexport const createPost = post => async dispatch => {\n  dispatch({\n    type: \"CREATE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/create\", post);\n    dispatch({\n      type: \"CREATE_POST_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"CREATE_POST_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const updatePost = post => async dispatch => {\n  dispatch({\n    type: \"UPDATE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/update\", post);\n    dispatch({\n      type: \"UPDATE_POST_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"UPDATE_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get posts\n//allposts\n\nexport const getposts = cat => async dispatch => {\n  dispatch({\n    type: \"GET_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(`/api/post/allposts/${cat}`);\n    dispatch({\n      type: \"GET_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //get a post\n//:id\n\nexport const singlePost = id => async dispatch => {\n  dispatch({\n    type: \"SINGLE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(`/api/post/${id}`);\n    dispatch({\n      type: \"SINGLE_POST_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"SINGLE_POST_FAILED\",\n      payload: error\n    });\n  }\n}; //other post you may like\n\nexport const otherPosts = postInfo => async dispatch => {\n  dispatch({\n    type: \"OTHER_POSTS_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/otherposts\", postInfo);\n    dispatch({\n      type: \"OTHER_POSTS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"OTHER_POSTS_FAILED\"\n    });\n  }\n};\nexport const editPost = val => dispatch => {\n  dispatch({\n    type: \"EDIT_POST\",\n    payload: val\n  });\n};\nexport const deletePost = postId => async dispatch => {\n  console.log(postId);\n  dispatch({\n    type: \"DELETE_POST_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/post/deletepost\", {\n      postId\n    });\n    dispatch({\n      type: \"DELETE_POST_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/\";\n  } catch (error) {\n    dispatch({\n      type: \"DELETE_POST_FAILED\",\n      payload: error.response.data\n    });\n  }\n};","map":{"version":3,"names":["axios","registerUser","user","dispatch","type","response","post","payload","data","window","location","href","error","loginUser","getState","localStorage","setItem","JSON","stringify","loginErr","signErr","darkMode","dark","console","log","updateUser","logoutUser","removeItem","createPost","updatePost","getposts","cat","get","singlePost","id","otherPosts","postInfo","editPost","val","deletePost","postId"],"sources":["D:/React/blogify/client/src/actions/index.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const registerUser = (user) => async (dispatch) => {\r\n  dispatch({ type: \"USER_REGISTER_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/reqister\", user);\r\n    dispatch({ type: \"USER_REGISTER_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/login\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_REGISTER_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n\r\nexport const loginUser = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/auth/login\", user);\r\n    dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: response.data });\r\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_LOGIN_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n\r\nexport const loginErr = () => (dispatch) => {\r\n  dispatch({ type: \"REMOVE_ERROR_LOGIN\" });\r\n};\r\n\r\nexport const signErr = () => (dispatch) => {\r\n  dispatch({ type: \"REMOVE_ERROR_SIGN\" });\r\n};\r\n\r\nexport const darkMode = (dark) => (dispatch) => {\r\n  console.log(dark);\r\n  dispatch({ type: \"CHANGE_MODE\", payload: dark });\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch) => {\r\n  dispatch({ type: \"USER_UPDATE_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/user/updateuser\", user);\r\n    dispatch({ type: \"USER_UPDATE_SUCCESS\", payload: response.data });\r\n    localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n  } catch (error) {\r\n    dispatch({ type: \"USER_UPDATE_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n\r\n//logout\r\nexport const logoutUser = () => (dispatch) => {\r\n  localStorage.removeItem(\"currentUser\");\r\n  window.location.href = \"/login\";\r\n};\r\n\r\n//create post\r\nexport const createPost = (post) => async (dispatch) => {\r\n  dispatch({ type: \"CREATE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/create\", post);\r\n    dispatch({ type: \"CREATE_POST_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"CREATE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\nexport const updatePost = (post) => async (dispatch) => {\r\n  dispatch({ type: \"UPDATE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/update\", post);\r\n    dispatch({ type: \"UPDATE_POST_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"UPDATE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get posts\r\n//allposts\r\nexport const getposts = (cat) => async (dispatch) => {\r\n  dispatch({ type: \"GET_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(`/api/post/allposts/${cat}`);\r\n    dispatch({ type: \"GET_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"GET_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//get a post\r\n//:id\r\nexport const singlePost = (id) => async (dispatch) => {\r\n  dispatch({ type: \"SINGLE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.get(`/api/post/${id}`);\r\n    dispatch({ type: \"SINGLE_POST_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"SINGLE_POST_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\n//other post you may like\r\nexport const otherPosts = (postInfo) => async (dispatch) => {\r\n  dispatch({ type: \"OTHER_POSTS_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/otherposts\", postInfo);\r\n    dispatch({ type: \"OTHER_POSTS_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"OTHER_POSTS_FAILED\" });\r\n  }\r\n};\r\n\r\nexport const editPost = (val) => (dispatch) => {\r\n  dispatch({ type: \"EDIT_POST\", payload: val });\r\n};\r\n\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n  console.log(postId);\r\n  dispatch({ type: \"DELETE_POST_REQUEST\" });\r\n  try {\r\n    const response = await axios.post(\"/api/post/deletepost\", { postId });\r\n    dispatch({ type: \"DELETE_POST_SUCCESS\", payload: response.data });\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    dispatch({ type: \"DELETE_POST_FAILED\", payload: error.response.data });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}