{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\blogify\\\\client\\\\src\\\\pages\\\\BlogDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { editPost, singlePost } from \"../actions\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport moment from \"moment\";\nimport DOMPurify from \"dompurify\";\nimport Menu from \"../components/Menu\";\nimport Modaldelete from \"../components/Modaldelete\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BlogDetail() {\n  _s();\n\n  const [modalShow, setModalShow] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const blogId = location.pathname.split(\"/\")[2];\n  const dispatch = useDispatch();\n  const post = useSelector(state => {\n    var _state$post;\n\n    return state === null || state === void 0 ? void 0 : (_state$post = state.post) === null || _state$post === void 0 ? void 0 : _state$post.currentPost;\n  });\n  const loading = useSelector(state => {\n    var _state$post2;\n\n    return state === null || state === void 0 ? void 0 : (_state$post2 = state.post) === null || _state$post2 === void 0 ? void 0 : _state$post2.loading;\n  }); //const loading = true;\n\n  const currentUser = useSelector(state => {\n    var _state$loginReducer;\n\n    return state === null || state === void 0 ? void 0 : (_state$loginReducer = state.loginReducer) === null || _state$loginReducer === void 0 ? void 0 : _state$loginReducer.currentUser;\n  });\n  useEffect(() => {\n    dispatch(singlePost(blogId));\n  }, [blogId, dispatch]);\n\n  const handleEdit = () => {\n    dispatch(editPost(true));\n    navigate(\"/create\");\n  };\n\n  const detailContent = loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"spinner-widget\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border spinner-border-lg ms-2\",\n      role: \"status\",\n      style: {\n        width: \"3rem\",\n        height: \"3rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"visually-hidden\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: post === null || post === void 0 ? void 0 : post.postimage,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user\",\n      children: [(post === null || post === void 0 ? void 0 : post.profilePicture) && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: post === null || post === void 0 ? void 0 : post.profilePicture,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: post === null || post === void 0 ? void 0 : post.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Posted \", moment(post === null || post === void 0 ? void 0 : post.createdAt).startOf(\"hour\").fromNow()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), (post === null || post === void 0 ? void 0 : post.username) === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => handleEdit(),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => setModalShow(true),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), (post === null || post === void 0 ? void 0 : post.createdAt) !== (post === null || post === void 0 ? void 0 : post.updatedAt) ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-info\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeightL: \"bolder\",\n            color: \"ff0\"\n          },\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), \"This post is Edited on\", \" \", moment(post === null || post === void 0 ? void 0 : post.updatedAt).startOf(\"hour\").fromNow()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: post === null || post === void 0 ? void 0 : post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: DOMPurify.sanitize(post === null || post === void 0 ? void 0 : post.postinfo)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"single mt-3\",\n      style: {\n        minHeight: \"calc(100vh - 204px)\"\n      },\n      children: [detailContent, /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modaldelete, {\n      show: modalShow,\n      onHide: () => setModalShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BlogDetail, \"jz4wTpCcio/lugJ45H0hcGcoOyU=\", false, function () {\n  return [useLocation, useNavigate, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = BlogDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogDetail\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","editPost","singlePost","useLocation","useNavigate","moment","DOMPurify","Menu","Modaldelete","ToastContainer","toast","BlogDetail","modalShow","setModalShow","location","navigate","blogId","pathname","split","dispatch","post","state","currentPost","loading","currentUser","loginReducer","handleEdit","detailContent","width","height","postimage","profilePicture","username","createdAt","startOf","fromNow","updatedAt","fontWeightL","color","title","__html","sanitize","postinfo","minHeight"],"sources":["D:/React/blogify/client/src/pages/BlogDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { editPost, singlePost } from \"../actions\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport DOMPurify from \"dompurify\";\r\nimport Menu from \"../components/Menu\";\r\nimport Modaldelete from \"../components/Modaldelete\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nexport default function BlogDetail() {\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const blogId = location.pathname.split(\"/\")[2];\r\n  const dispatch = useDispatch();\r\n  const post = useSelector((state) => state?.post?.currentPost);\r\n  const loading = useSelector((state) => state?.post?.loading);\r\n  //const loading = true;\r\n  const currentUser = useSelector((state) => state?.loginReducer?.currentUser);\r\n\r\n  useEffect(() => {\r\n    dispatch(singlePost(blogId));\r\n  }, [blogId, dispatch]);\r\n\r\n  const handleEdit = () => {\r\n    dispatch(editPost(true));\r\n    navigate(\"/create\");\r\n  };\r\n\r\n  const detailContent = loading ? (\r\n    <div className=\"spinner-widget\">\r\n      <div\r\n        className=\"spinner-border spinner-border-lg ms-2\"\r\n        role=\"status\"\r\n        style={{ width: \"3rem\", height: \"3rem\" }}\r\n      >\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"content\">\r\n      <img src={post?.postimage} alt=\"\" />\r\n      <div className=\"user\">\r\n        {post?.profilePicture && <img src={post?.profilePicture} alt=\"\" />}\r\n        <div className=\"info\">\r\n          <span>{post?.username}</span>\r\n          <p>Posted {moment(post?.createdAt).startOf(\"hour\").fromNow()}</p>\r\n        </div>\r\n        {post?.username === currentUser?.username && (\r\n          <div className=\"edit\">\r\n            <button className=\"btn btn-primary\" onClick={() => handleEdit()}>\r\n              Edit\r\n            </button>\r\n            <button\r\n              className=\"btn btn-danger\"\r\n              onClick={() => setModalShow(true)}\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {post?.createdAt !== post?.updatedAt ? (\r\n        <div className=\"edit-info\">\r\n          <span>\r\n            <span style={{ fontWeightL: \"bolder\", color: \"ff0\" }}>*</span>This\r\n            post is Edited on{\" \"}\r\n            {moment(post?.updatedAt).startOf(\"hour\").fromNow()}\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <h1>{post?.title}</h1>\r\n\r\n      <p\r\n        dangerouslySetInnerHTML={{\r\n          __html: DOMPurify.sanitize(post?.postinfo),\r\n        }}\r\n      ></p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"single mt-3\" style={{ minHeight: \"calc(100vh - 204px)\" }}>\r\n        {detailContent}\r\n        <Menu />\r\n      </div>\r\n      <Modaldelete show={modalShow} onHide={() => setModalShow(false)} />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}